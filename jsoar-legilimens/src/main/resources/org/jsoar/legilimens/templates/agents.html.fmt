<#include "/base.fmt"/>

<#global title="${title} - Agents"/>

<#macro agent_url agent=agent>${rootRef}/agents/${agent.name?url}</#macro>

<#macro agent_link agent>
<a href="<@agent_url agent/>">${agent.name?html}</a>
</#macro>

<#global header>
<h1>All Agents</h1>
</#global>

<#global body>
<table>
    <tr><th>Name</th><th>Status</th><th>Decisions</th></tr>
<#list agents as agent>
    <tr>
        <td><@agent_link agent/></td>
        <td><#if agent.running>
                running with wait status: ${agent_property(agent, "wait_info")?html}
            <#else>
                stopped
            </#if>
        </td>
        <td>${agent_property(agent, "d_cycle_count")?html}</td>
    </tr>
</#list>
</table>
<a href="">Refresh</a>
</#global>

<#include "/layout.fmt"/>